import os
from fpdf import FPDF

# --- Configuration & Branding ---
OUTPUT_DIR = "HRbiz_Policies_and_Handbook"
COMPANY_NAME = "Button Nose Grooming"
CONSULTANT = "HRbiz.org"
# Colors (RGB)
NAVY = (26, 60, 94)
TEAL = (46, 139, 153)
SLATE = (74, 85, 104)
WHITE = (255, 255, 255)

if not os.path.exists(OUTPUT_DIR):
   os.makedirs(OUTPUT_DIR)

class PDF(FPDF):
   def header(self):
       # Logo Placeholder (Text based for simplicity in script)
       self.set_font('Arial', 'B', 12)
       self.set_text_color(*NAVY)
       self.cell(0, 10, 'HRbiz.org | Compliance Packet', 0, 1, 'R')
       self.ln(5)

   def footer(self):
       self.set_y(-15)
       self.set_font('Arial', 'I', 8)
       self.set_text_color(128)
       self.cell(0, 10, f'Page {self.page_no()} - {COMPANY_NAME} Internal Document', 0, 0, 'C')

   def chapter_title(self, title):
       self.set_font('Arial', 'B', 16)
       self.set_text_color(*NAVY)
       self.cell(0, 10, title, 0, 1, 'L')
       self.set_draw_color(*TEAL)
       self.set_line_width(1)
       self.line(10, self.get_y(), 200, self.get_y())
       self.ln(10)

   def chapter_body(self, body):
       self.set_font('Arial', '', 11)
       self.set_text_color(*SLATE)
       self.multi_cell(0, 6, body)
       self.ln()

   def add_policy(self, title, body):
       self.add_page()
       self.chapter_title(title)
       self.chapter_body(body)

# --- Content Dictionary ---
# This contains the specific text for all 19 files.

policies = {
   "table_of_contents": {
       "title": "Employee Handbook & Policy Packet: Table of Contents",
       "body": """
1. Introduction & Welcome
2. Harassment Prevention Policy (Zero Tolerance)
3. Anti-Retaliation Policy
4. Equal Employment Opportunity & Non-Discrimination
5. Complaint Reporting Procedures
6. Investigation Protocols (Employee Overview)
7. Supervisor Responsibilities
8. Onboarding & Employment Classifications
9. At-Will Employment Statement
10. Confidentiality & Privacy (Client Data)
11. Workplace Conduct & Safety
12. Attendance & Breaks
13. Industry Specifics: Grooming Safety & Ethics
14. Forms & Acknowledgments
"""
   },
   "employee_handbook_intro_section": {
       "title": "Welcome to Button Nose Grooming",
       "body": f"""
Welcome to the Team!

At {COMPANY_NAME}, we are dedicated to providing top-tier care for our four-legged clients and a safe, respectful, and professional environment for our two-legged team members.

Our Mission: To treat every pet with the love and care we would want for our own, while maintaining the highest standards of safety and hygiene.

About This Handbook:
This handbook is designed to acquaint you with our policies, privileges, and responsibilities. It helps ensuring a safe and compliant workplace under California law.

IMPORTANT NOTICE:
This handbook is NOT a contract of employment. Employment at {COMPANY_NAME} is "at-will," meaning either you or the company may terminate the employment relationship at any time, with or without cause or notice.

We are an Equal Opportunity Employer and value the diversity of our team.
"""
   },
   "harassment_policy": {
       "title": "Harassment Prevention Policy (Zero Tolerance)",
       "body": """
Policy Statement:
Button Nose Grooming strictly prohibits harassment of any kind. We are committed to a workplace free of sexual harassment and harassment based on any protected category (gender, race, sexual orientation, etc.).

This policy applies to all employees, supervisors, contractors, and even third parties (like clients/pet owners).

Prohibited Conduct (California FEHA Definitions):
Harassment includes, but is not limited to:
- Verbal: Inappropriate jokes, slurs, romantic advances, or comments about a person's body or appearance.
- Physical: Unwanted touching, blocking movement, or interfering with work.
- Visual: Posters, cartoons, emails, or gestures of a derogatory nature.

Sexual Harassment:
Includes unwanted sexual advances, requests for sexual favors, or visual/verbal conduct of a sexual nature. This applies to harassment between people of the same or different genders.

"Abusive Conduct" (Bullying):
We also prohibit "abusive conduct"—malicious conduct that a reasonable person would find hostile, offensive, and unrelated to legitimate business interests.

Grooming Industry Specifics:
- "Locker room talk" is not acceptable on the grooming floor.
- Inappropriate comments about clients or coworkers are prohibited.
- If a client makes you uncomfortable, report it immediately. We protect our staff from third-party harassment.
"""
   },
   "anti_retaliation_policy": {
       "title": "Anti-Retaliation Policy",
       "body": """
What is Retaliation?
Retaliation occurs when an employer or supervisor takes adverse action against an employee because they engaged in a "protected activity."

Protected Activities Include:
- Filing a complaint about harassment or safety.
- Participating in an investigation as a witness.
- Requesting an accommodation (e.g., for disability or pregnancy).
- Discussing wages with coworkers.

Our Guarantee:
Button Nose Grooming will NOT tolerate retaliation against any employee who raises a genuine concern in good faith. 

Examples of Retaliation (Prohibited):
- Cutting a groomer's hours after they complain.
- Assigning difficult dogs as "punishment."
- Excluding an employee from meetings.
- Termination or discipline.

If you feel you have been retaliated against, report it to Judy immediately.
"""
   },
   "discrimination_policy": {
       "title": "Equal Employment & Non-Discrimination",
       "body": """
We do not discriminate against any applicant or employee based on:
- Race, Color, Ancestry, National Origin
- Religion (includes dress/grooming practices)
- Age (40 and over)
- Disability (Mental and Physical)
- Sex, Gender (including pregnancy, childbirth, breastfeeding)
- Sexual Orientation, Gender Identity, Gender Expression
- Medical Condition, Genetic Information
- Marital Status, Military/Veteran Status

Reasonable Accommodation:
We will provide reasonable accommodations for individuals with disabilities, or for pregnancy/childbirth related conditions, unless doing so would cause an undue hardship on the business. 
"""
   },
   "complaint_reporting_policy": {
       "title": "Complaint Reporting Procedure",
       "body": f"""
If you experience or witness harassment, discrimination, or unsafe conditions, you have a duty to report it so we can fix it.

Reporting Channels:
1. Direct Supervisor: Speak to your immediate lead (if applicable).
2. Business Owner: You may always report directly to Judy.
3. External Consultant: You may contact our HR Consultant, Mario Espindola at HRbiz.org (info@hrbiz.org) to report concerns if you are uncomfortable speaking to management directly.

*Note: HRbiz.org is a third-party consultant, not your employer, but will facilitate the correct handling of your complaint.*

Anonymous Reporting:
While we encourage open dialogue, you may submit a written complaint without a signature to the "Drop Box" in the break area. Note that anonymous complaints can be harder to investigate fully.

Your complaint will be taken seriously.
"""
   },
   "investigation_protocol_owner_version": {
       "title": "Investigation Protocol (Owner/Management Version)",
       "body": """
INTERNAL USE ONLY - GUIDANCE FOR JUDY

1. Immediate Action:
If a complaint is received, do not ignore it. Acknowledge receipt immediately.

2. Role of HRbiz.org (Mario Espindola):
Mario provides *guidance* on the process and "fact-finding" for internal HR compliance. 
*IMPORTANT:* Mario is not a Private Investigator (PI). If the allegation involves potential criminal activity or severe liability, we may need to engage a licensed attorney or PI.

3. Confidentiality:
Do not promise absolute confidentiality. Promise that information is restricted to "need to know" basis.

4. The Standard of Proof:
Workplace investigations use the "Preponderance of the Evidence" standard (Is it more likely than not that it happened?), not "Beyond a Reasonable Doubt."

5. Documentation:
Start a file immediately. Keep notes of every conversation.
"""
   },
   "investigation_protocol_employee_version": {
       "title": "Workplace Investigations: What to Expect",
       "body": """
If a complaint is raised, Button Nose Grooming is required by law to look into it.

The Process:
1. Interview: The investigator will talk to the complainant, the accused, and relevant witnesses.
2. Confidentiality: We keep the investigation as confidential as possible, sharing info only with those who need to know to resolve the issue.
3. No Retaliation: Participation in an investigation is protected activity. You cannot be punished for telling the truth.

Timeline:
We aim to close investigations promptly (usually within 14-30 days), depending on complexity.

Outcome:
You will be notified when the investigation is closed. Corrective action, if necessary, will be taken immediately.
"""
   },
   "supervisor_responsibilities_policy": {
       "title": "Supervisor Responsibilities & Duties",
       "body": """
Definition of Supervisor (CA FEHA):
Anyone with authority to hire, fire, discipline, OR direct the work of others using independent judgment.

Your Duties:
1. Duty to Report: If you see harassment or receive a complaint, you MUST report it to the Owner immediately. You cannot "handle it" informally.
2. Duty to Act: You must step in to stop inappropriate behavior if you see it happening.
3. Mandatory Training: You must complete 2 hours of Harassment Prevention Training every 2 years.

Liability:
Supervisors can be held *personally liable* for harassment in some cases.
"""
   },
   "onboarding_policy": {
       "title": "Onboarding & New Hire Policy",
       "body": """
All new hires must complete the following BEFORE starting work:

Required Forms:
1. Form I-9 (Employment Eligibility Verification)
2. Federal W-4 and California DE-4 (Tax Withholding)
3. Emergency Contact Form
4. Handbook Acknowledgment

Required Notices (Provided to you):
- Wage Theft Prevention Act Notice (Notice to Employee 2810.5)
- EDD Pamphlet (For Your Benefit)
- Workers' Compensation Pamphlet
- DFEH-185 (Sexual Harassment Fact Sheet)

Training:
Harassment Prevention Training must be completed within 6 months of hire (or sooner if directed).
"""
   },
   "at_will_statement": {
       "title": "At-Will Employment Statement",
       "body": f"""
Employment with {COMPANY_NAME} is "at-will."

This means that:
1. You are free to resign at any time, for any reason.
2. The Company is free to terminate your employment at any time, for any reason (as long as it is not an illegal reason, such as discrimination), with or without cause or notice.

No supervisor or manager has the authority to alter this at-will relationship unless it is in a specific written agreement signed by the Owner.
"""
   },
   "confidentiality_and_privacy_policy": {
       "title": "Confidentiality & Privacy Policy",
       "body": """
Client Privacy:
Our clients trust us with their pets and their personal information (home codes, phone numbers, addresses). 
- Do not share client info with anyone outside work.
- Do not post photos of client pets on personal social media without permission.

Employee Privacy:
We respect your privacy. Personnel files are confidential.

Social Media:
- Be mindful when posting about work.
- Do not claim to represent the company's official views.
- Do not post photos that reveal private client information or unsafe grooming practices.
"""
   },
   "workplace_conduct_policy": {
       "title": "Workplace Conduct & Safety",
       "body": """
Code of Conduct:
- Treat coworkers, clients, and animals with respect.
- Arrive on time and ready to work.
- Follow all safety protocols regarding animal handling.

Dress Code:
- Wear non-slip, closed-toe shoes (mandatory for safety).
- Wear company-approved smocks or grooming attire.
- Hair should be tied back to prevent entanglement in equipment.

Animal Safety (Zero Tolerance):
Rough handling of animals is grounds for immediate termination. If a dog is aggressive or stressed, stop and ask a Lead for help.
"""
   },
   "attendance_policy": {
       "title": "Attendance, Breaks & Meal Periods",
       "body": """
Punctuality is critical in a scheduled business like grooming.

Call-Out Procedure:
If you are sick, call or text Judy at least 2 hours before your shift.

No-Call / No-Show:
Failure to report for a shift without notification is considered job abandonment and may result in voluntary resignation.

Meal & Rest Breaks (California Law):
- Shifts over 3.5 hours: One 10-minute paid rest break.
- Shifts over 5 hours: One 30-minute UNPAID, OFF-DUTY meal break. You must clock out.
- Shifts over 10 hours: Second meal break required.

It is your responsibility to take your breaks. If you are prevented from taking a break, tell Judy immediately.
"""
   },
   "grooming_industry_specific_policy": {
       "title": "Grooming Industry Specific Standards",
       "body": """
1. Safety First:
Never leave a dog unattended on a table or in a tub. Always use loop restraints properly.

2. Tight Quarters:
Grooming areas are small. Respect personal space. Say "behind you" when moving with scissors or dogs.

3. Client Interaction:
Clients can be emotional about their pets. Remain calm and professional. Refer difficult pricing or complaint discussions to the Owner.

4. Physical Boundaries:
Grooming is physical work. Be mindful of physical contact with coworkers in tight spaces.
"""
   },
   "handbook_signoff_form": {
       "title": "Acknowledgment of Receipt",
       "body": f"""
I acknowledge that I have received the {COMPANY_NAME} Employee Handbook / Policy Packet.

I understand that:
1. I am responsible for reading and complying with these policies.
2. My employment is At-Will.
3. This handbook is not a contract.
4. I have received the Harassment Prevention Policy and Complaint Procedure.

_______________________________________
Employee Name (Print)

_______________________________________
Employee Signature

__________________
Date
"""
   },
   "supervisor_designation_policy_and_form": {
       "title": "Supervisor Designation Form",
       "body": """
This form is used to designate employees who meet the California FEHA definition of "Supervisor."

Criteria:
Does this employee have authority to:
[ ] Hire, fire, or promote?
[ ] Discipline or reward?
[ ] Direct the work of others (assign dogs, check quality, manage flow) using independent judgment?

Determination:
[ ] Yes, this employee is a Supervisor for FEHA purposes.
   -> Must complete 2-Hour Training.
   -> Must report harassment immediately.

_______________________________________
Employee Name

_______________________________________
Designated by (Owner Signature)

__________________
Date
"""
   },
   "training_recordkeeping_policy": {
       "title": "Training Recordkeeping Policy",
       "body": """
To comply with SB 1343, we maintain records of all harassment prevention training.

Retention Period:
Records are kept for a minimum of 2 years.

Required Documents:
1. Date of training.
2. Sign-in sheet or certificate of completion.
3. Name of training provider (e.g., HRbiz.org / Online Vendor).
4. Type of training (Interactive E-Learning).

Employee Responsibility:
You must provide a copy of your completion certificate to Management upon finishing the course.
"""
   },
   "new_hire_onboarding_checklist": {
       "title": "New Hire Onboarding Checklist",
       "body": """
Employee Name: _______________________  Start Date: ___________

Paperwork:
[ ] Application / Resume
[ ] Form I-9 (verify ID docs)
[ ] W-4 and DE-4
[ ] Policy Acknowledgment Signed

Notices Given:
[ ] DFEH-185 (Sexual Harassment)
[ ] Wage Theft Notice
[ ] Workers Comp Pamphlet
[ ] EDD Booklet

Training:
[ ] Safety / Animal Handling Overview
[ ] Harassment Prevention Training Link Sent
   [ ] Completed (Due within 6 months)

Supervisor Review:
[ ] Role designated (Supervisor vs Non-Supervisor)
[ ] Schedule set
"""
   }
}

# --- Generation Loop ---

def generate_all():
   print(f"Generating {len(policies)} PDF files for {COMPANY_NAME}...")
   
   for filename, content in policies.items():
       pdf = PDF()
       pdf.add_policy(content["title"], content["body"])
       
       # Save file
       filepath = os.path.join(OUTPUT_DIR, f"{filename}.pdf")
       pdf.output(filepath)
       print(f" -> Created: {filepath}")
   
   print("\nGeneration Complete. All files are in the folder.")

if __name__ == "__main__":
   generate_all()

How to Use This in Termux
1. Save the Code: Copy the block above into a file named generate_handbook.py.
nano generate_handbook.py
# (Paste the code)
# (Ctrl+X to save and exit)

2. Run the Generator:
python generate_handbook.py